(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{14:function(t,e,a){t.exports={form:"ContactAdd_form__NRizT",label:"ContactAdd_label__3aJLR",input:"ContactAdd_input__1Fx51",btn:"ContactAdd_btn__1U505"}},37:function(t,e,a){},38:function(t,e,a){},39:function(t,e,a){},41:function(t,e,a){},42:function(t,e,a){},43:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a(0),r=a(13),o=a.n(r),s=a(10),i=a(2),l=a(11),u="AleksaHrevtsova",p=function(t){return function(t){return function(e){"AVE"===e.type?fetch("https://llex.one/api/?key=".concat(u)).then((function(t){return t.json()})).then((function(a){e={type:"ADD",payload:{contacts:Object(i.a)(a)}},t(e)})):"ADD"===e.type&&e.payload.contacts.length?fetch("https://llex.one/api/?key=".concat(u),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.payload.contacts)}).then(t(e)):"DEL"===e.type?fetch("https://llex.one/api/?key=".concat(u),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({marker:"del",id:e.payload.id})}).then(t(e)):t(e)}}},d=a(12),b=Object(l.c)({contacts:[],filter:[]},{ADD:function(t,e){var a=e.payload;return Object(d.a)(Object(d.a)({},t),{},{contacts:[].concat(Object(i.a)(t.contacts),Object(i.a)(a.contacts))})},DEL:function(t,e){var a=e.payload;return Object(d.a)(Object(d.a)({},t),{},{contacts:Object(i.a)(a.contacts),filter:Object(i.a)(a.filter)})},FILTER:function(t,e){var a=e.payload;return Object(d.a)(Object(d.a)({},t),{},{filter:Object(i.a)(a.filter)})},ALERT:function(t,e){var a=e.payload;return Object(d.a)(Object(d.a)({},t),{},{isAlert:a.isAlert,alertMessage:a.alertMessage})}}),h=Object(l.a)({reducer:b,middleware:[].concat(Object(i.a)(Object(l.d)()),[p])}),j=a(5),f=a(6),m=a(8),O=a(7),v={ave:Object(l.b)("AVE")},y=a(45),x=(a(37),function(t){Object(m.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(j.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={},t}return Object(f.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"alert",children:Object(n.jsx)("p",{className:"alert-text",children:this.props.text})})}}]),a}(c.Component)),A=(a(38),function(t){Object(m.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(j.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={},t}return Object(f.a)(a,[{key:"render",value:function(){return Object(n.jsx)("header",{className:"header",children:Object(n.jsx)("p",{children:"Phonebook"})})}}]),a}(c.Component)),C={add:function(t,e){var a=e.id,n=e.name,c=e.number;return n&&!t.contacts.map((function(t){return t.name.toLowerCase()})).includes(n.toLowerCase())?{type:"ADD",payload:{contacts:[{id:a,name:n,number:c}]}}:{type:"ADD",payload:{contacts:[]}}},alert:Object(l.b)("ALERT",(function(t){return{payload:{isAlert:t.isAlert,alertMessage:t.alertMessage}}}))},g=a(46),N=a(14),w=a.n(N),E=function(t){Object(m.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(j.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={valueName:"",valueNumder:""},t.delayToCloseAlert=null,t.handleChange=function(e){switch(e.target.name){case"name":t.setState((function(t){return{valueName:e.target.value}}));break;case"number":t.setState((function(t){return{valueNumder:e.target.value}}));break;default:console.log("error form-name")}},t.handleSubmit=function(e){e.preventDefault();var a={id:Object(g.a)(),name:t.state.valueName,number:t.state.valueNumder};t.props.action_ADD(t.props.state,a),a.name&&t.props.state.contacts.map((function(t){return t.name.toLowerCase()})).includes(a.name.toLowerCase())&&(t.props.action_ALERT({isAlert:!0,alertMessage:"Sorry, but You already have this contact in your base."}),clearTimeout(t.delayToCloseAlert),t.delayToCloseAlert=setTimeout((function(){t.props.action_ALERT({isAlert:!1,alertMessage:""})}),3e3)),t.setState((function(t){return{valueName:"",valueNumder:""}}))},t}return Object(f.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("form",{className:w.a.form,onSubmit:this.handleSubmit,children:[Object(n.jsx)("label",{className:w.a.label,htmlFor:"name",children:"Contact Name"}),Object(n.jsx)("input",{required:!0,className:w.a.input,type:"text",name:"name",id:"name",placeholder:"name",autoComplete:"off",value:this.state.valueName,onChange:this.handleChange}),Object(n.jsx)("label",{className:w.a.label,htmlFor:"number",children:"Contact Number"}),Object(n.jsx)("input",{className:w.a.input,type:"tel",name:"number",id:"number",placeholder:"063-333-4444",autoComplete:"off",pattern:"[0-9\\W]*",value:this.state.valueNumder,onChange:this.handleChange}),Object(n.jsx)("button",{className:w.a.btn,type:"submit",children:"new contact"})]})}}]),a}(c.Component),k=Object(s.b)((function(t){return{state:t}}),(function(t){return{action_ADD:function(e,a){t(C.add(e,a))},action_ALERT:function(e){t(C.alert(e))}}}))(E),L=function(t,e){var a=e.id,n={type:"DEL",payload:{contacts:[],filter:[],id:a}};if(t.filter.length){var c=0;t.filter.forEach((function(t,e){t.id===a&&(c=e)}));var r=Object(i.a)(t.filter);r.splice(c,1),n.payload.filter=Object(i.a)(r)}var o=0;t.contacts.forEach((function(t,e){t.id===a&&(o=e)}));var s=Object(i.a)(t.contacts);return s.splice(o,1),n.payload.contacts=Object(i.a)(s),n},D=a(47),_=(a(39),function(t){Object(m.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(j.a)(this,a);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={},t.deleteContact=function(e){var a=e.target.dataset.id;t.props.action_DEL(t.props.state,{id:a})},t.contactList=function(){return(t.props.state.filter.length?t.props.state.filter:t.props.state.contacts).map((function(e,a){return Object(n.jsx)(y.a,{timeout:250,classNames:"contact-show-list-item",children:Object(n.jsxs)("li",{className:"contact-show-list-item",children:[Object(n.jsxs)("p",{className:"contact-show-list-text",children:[Object(n.jsx)("span",{children:e.name}),Object(n.jsx)("span",{children:e.number})]}),Object(n.jsx)("button",{"data-id":e.id,onClick:t.deleteContact,children:"delete"})]},e.id)},a)}))},t}return Object(f.a)(a,[{key:"componentDidUpdate",value:function(){this.contactList()}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"contact-show",children:[this.props.children,Object(n.jsx)(D.a,{component:"ul",className:".contact-show-list",children:this.contactList()})]})}}]),a}(c.Component)),T=Object(s.b)((function(t){return{state:t}}),(function(t){return{action_DEL:function(e,a){t(L(e,a))}}}))(_),S=a(22),R=a.n(S),F=a(24),M=function(t,e){var a=e.name,n=[];return a?t.contacts.forEach((function(t){t.name.toLowerCase().includes(a.toLowerCase())&&n.push(t)})):n=[],{type:"FILTER",payload:{filter:n}}},I=(a(41),function(t){Object(m.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(j.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={value:""},t.handleChange=function(){var e=Object(F.a)(R.a.mark((function e(a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState((function(t){return{value:a.target.value}}));case 2:t.props.action_FILTER(t.props.state,{name:t.state.value});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(f.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"filter",children:[Object(n.jsx)("label",{htmlFor:"filter",children:"Filter"}),Object(n.jsx)("input",{id:"filter",type:"text",name:"filter",value:this.state.value,onChange:this.handleChange})]})}}]),a}(c.Component)),J=Object(s.b)((function(t){return{state:t}}),(function(t){return{action_FILTER:function(e,a){t(M(e,a))}}}))(I),V=(a(42),function(t){Object(m.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(j.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).delayToCloseAlert=null,t}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.props.action_AVE()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"phonebook",children:[Object(n.jsx)(y.a,{in:this.props.state.isAlert,classNames:"alert",timeout:250,unmountOnExit:!0,children:Object(n.jsx)(x,{text:this.props.state.alertMessage})}),Object(n.jsx)(y.a,{in:!0,appear:!0,classNames:"header",timeout:500,unmountOnExit:!0,children:Object(n.jsx)(A,{})}),Object(n.jsx)(k,{}),Object(n.jsx)(T,{children:Object(n.jsx)(y.a,{in:this.props.state.contacts.length>1,classNames:"filter",timeout:250,unmountOnExit:!0,children:Object(n.jsx)(J,{})})})]})}}]),a}(c.Component)),P=Object(s.b)((function(t){return{state:t}}),(function(t){return{action_AVE:function(e){t(v.ave(e))}}}))(V);o.a.render(Object(n.jsx)(s.a,{store:h,children:Object(n.jsx)(P,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.33f4bd92.chunk.js.map